(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,r){r("bUC5"),e.exports=r("pyCd")},1:function(e,t){},"9Wh1":function(e,t,r){window._=r("LvDl"),window.axios=r("vDqi"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var a=document.head.querySelector('meta[name="csrf-token"]');a?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=a.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token");var s=document.head.querySelector('meta[name="user-api-token"]');s?window.axios.defaults.headers.common.Authorization="Bearer ".concat(s.content):console.error("User API token not found in a meta tag.");var o=document.head.querySelector('meta[name="current-locale"]');o?window.AsgardCMS.currentLocale=o.content:console.error("Current locale token not found in a meta tag.")},EMGs:function(e,t,r){"use strict";r("W7PW")},F1yg:function(e,t,r){var a=r("kJ7V");"string"==typeof a&&(a=[[e.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,s);a.locals&&(e.exports=a.locals)},SlOW:function(e,t,r){"use strict";r("fHeI")},W7PW:function(e,t,r){var a=r("qsNk");"string"==typeof a&&(a=[[e.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,s);a.locals&&(e.exports=a.locals)},atat:function(e,t,r){"use strict";r("F1yg")},b3nO:function(e,t,r){"use strict";r.r(t);var a=r("XuX8");r.n(a).a.mixin({methods:{trans:function(e){var t=e.split(".");if(t.length<2)return this.$t(e);var r=t.splice(0,1),a=t.join(".");return this.$t("".concat(r,"['").concat(a,"']"))}}})},bUC5:function(e,t,r){"use strict";r.r(t);r("55Il");var a=r("XuX8"),s=r.n(a),o=r("qSUR"),n=r("jE9Z"),i=r("XJYT"),l=r.n(i),c=r("qjrt"),d=r.n(c),u=r("stYL"),m=r.n(u),p=r("BJO5"),f=r.n(p),g=r("vDqi"),h=r.n(g),b=r("sEfC"),v=r.n(b),_=r("3WF5"),y=r.n(_),w={methods:{pushRoute:function(e,t){this.$router.push(e,(function(){}),(function(e){if("NavigationDuplicated"!==e.name&&"function"==typeof t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];t.apply(void 0,[e].concat(a))}}))}}},x={props:{rows:{default:null,type:Array},scope:{default:null,type:Object}},data:function(){return{deleteMessage:"",deleteTitle:""}},mounted:function(){this.deleteMessage=this.trans("core.modal.confirmation-message"),this.deleteTitle=this.trans("core.modal.title")},methods:{deleteRow:function(){var e=this;this.$confirm(this.deleteMessage,this.deleteTitle,{confirmButtonText:this.trans("core.button.delete"),cancelButtonText:this.trans("core.button.cancel"),type:"warning",confirmButtonClass:"el-button--danger"}).then((function(){var t=e;axios.delete(e.scope.row.urls.delete_url).then((function(e){!1===e.data.errors&&(t.$message({type:"success",message:e.data.message}),t.rows.splice(t.scope.$index,1))})).catch((function(e){t.$message({type:"error",message:e.data.message})}))})).catch((function(){e.$message({type:"info",message:e.trans("core.delete cancelled")})}))}}},C=r("KHd+"),k=Object(C.a)(x,(function(){var e=this.$createElement,t=this._self._c||e;return t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:this.deleteRow}},[t("i",{staticClass:"fa fa-trash"})])}),[],!1,null,null,null).exports,S={mixins:[w],props:{to:{required:!0,type:Object}},methods:{goToEditPage:function(){this.pushRoute(this.to)}}},O=Object(C.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-button",{attrs:{size:"mini"},on:{click:function(t){return t.preventDefault(),e.goToEditPage()}}},[r("i",{staticClass:"fa fa-pencil"})])}),[],!1,null,null,null).exports;function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E={components:{DeleteButton:k,EditButton:O},mixins:[w],data:function(){return{data:void 0,meta:{current_page:1,per_page:30},order_meta:{order_by:"",order:""},links:{},searchQuery:"",tableIsLoading:!1,showExtraButtons:!1,selectedPages:{}}},watch:{selectedPages:function(){this.showExtraButtons=this.selectedPages.length>=1}},mounted:function(){this.fetchData()},methods:{queryServer:function(e){var t=this,r={page:this.meta.current_page,per_page:this.meta.per_page,order_by:this.order_meta.order_by,order:this.order_meta.order,search:this.searchQuery};h.a.get(route("api.page.page.indexServerSide",P(P({},r),e))).then((function(e){t.tableIsLoading=!1,t.data=e.data.data,t.meta=e.data.meta,t.links=e.data.links,t.order_meta.order_by=r.order_by,t.order_meta.order=r.order}))},fetchData:function(){this.tableIsLoading=!0,this.queryServer()},handleSizeChange:function(e){console.log("per page :".concat(e)),this.tableIsLoading=!0,this.queryServer({per_page:e})},handleCurrentChange:function(e){console.log("current page :".concat(e)),this.tableIsLoading=!0,this.queryServer({page:e})},handleSortChange:function(e){console.log("sorting",e),this.tableIsLoading=!0,this.queryServer({order_by:e.prop,order:e.order})},performSearch:v()((function(e){console.log("searching:".concat(e.target.value)),this.tableIsLoading=!0,this.queryServer({search:e.target.value})}),300),handleExtraActions:function(e){var t=this,r=y()(this.selectedPages,(function(e){return e.id}));h.a.get(route("api.page.page.mark-status",{action:e,pageIds:JSON.stringify(r)})).then((function(a){t.$message({type:"success",message:a.data.message}),t.$refs.pageTable.clearSelection(),t.data.filter((function(e){return r.indexOf(e.id)>=0})).map((function(t){var r=t;return r.translations.status="mark-online"===e,r}))})).catch((function(){t.$message({type:"error",message:t.trans("core.something went wrong")})}))},handleSelectionChange:function(e){this.selectedPages=e},goToEdit:function(e){this.pushRoute({name:"admin.page.page.edit",params:{pageId:e.row.id}})},editRoute:function(e){return route("admin.page.page.edit",[e.row.id])}}},T=(r("EMGs"),Object(C.a)(E,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"div"},[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("pages.pages"))+"\n        ")]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v("Home")])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.page.page.index"}}},[e._v("\n                "+e._s(e.trans("pages.pages"))+"\n            ")])],1)],1),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("div",{staticClass:"sc-table"},[r("div",{staticClass:"tool-bar el-row",staticStyle:{"padding-bottom":"20px"}},[r("div",{staticClass:"actions el-col el-col-8"},[e.showExtraButtons?r("el-dropdown",{on:{command:e.handleExtraActions}},[r("el-button",{attrs:{type:"primary"}},[e._v("\n                                        "+e._s(e.trans("core.table.actions"))),r("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"mark-online"}},[e._v(e._s(e.trans("core.mark as online")))]),e._v(" "),r("el-dropdown-item",{attrs:{command:"mark-offline"}},[e._v(e._s(e.trans("core.mark as offline")))])],1)],1):e._e(),e._v(" "),r("router-link",{attrs:{to:{name:"admin.page.page.create"}}},[r("el-button",{attrs:{type:"primary"}},[r("i",{staticClass:"el-icon-edit"}),e._v("\n                                        "+e._s(e.trans("pages.create page"))+"\n                                    ")])],1)],1),e._v(" "),r("div",{staticClass:"search el-col el-col-5"},[r("el-input",{attrs:{"prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return e.performSearch(t)}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)]),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.tableIsLoading,expression:"tableIsLoading",modifiers:{body:!0}}],ref:"pageTable",staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""},on:{"sort-change":e.handleSortChange,"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("pages.status"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("i",{staticClass:"fa fa-circle",class:!0===e.row.translations.status?"text-success":"text-danger"})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"id",label:"Id",width:"75",sortable:"custom"}}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("pages.title"),prop:"translations.title"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:e.editRoute(t)},on:{click:function(r){return r.preventDefault(),e.goToEdit(t)}}},[e._v("\n                                        "+e._s(t.row.translations.title)+"\n                                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("pages.slug"),prop:"translations.slug"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:e.editRoute(t)},on:{click:function(r){return r.preventDefault(),e.goToEdit(t)}}},[e._v("\n                                        "+e._s(t.row.translations.slug)+"\n                                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("core.table.created at"),prop:"created_at",sortable:"custom"}}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("core.table.actions"),prop:"actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[r("edit-button",{attrs:{to:{name:"admin.page.page.edit",params:{pageId:t.row.id}}}}),e._v(" "),r("delete-button",{attrs:{scope:t,rows:e.data}})],1)]}}])})],1),e._v(" "),r("div",{staticClass:"pagination-wrap",staticStyle:{"text-align":"center","padding-top":"20px"}},[r("el-pagination",{attrs:{"current-page":e.meta.current_page,"page-sizes":[10,20,30,50,100],"page-size":parseInt(e.meta.per_page),total:e.meta.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.meta,"current_page",t)},"update:current-page":function(t){return e.$set(e.meta,"current_page",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])])]),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"shortkey",rawName:"v-shortkey",value:["c"],expression:"['c']"}],on:{shortkey:function(t){return e.pushRoute({name:"admin.page.page.create"})}}})])}),[],!1,null,null,null).exports),M=r("5YJQ"),D=r.n(M),F={name:"FormErrors",props:{form:{required:!0,type:D.a}}},R=Object(C.a)(F,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.form.errors.any()?r("el-alert",{attrs:{title:"Error",type:"error","show-icon":""}},e._l(e.form.errors.all(),(function(t,a){return r("div",{key:a},[r("p",[e._v(e._s(a))]),e._v(" "),r("ul",e._l(t,(function(t,a){return r("li",{key:a},[e._v(e._s(t))])})),0)])})),0):e._e()}),[],!1,null,null,null).exports,L={methods:{slugify:function(e){var t;t=(t=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var r="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",a=0,s=r.length;a<s;a++)t=t.replace(new RegExp(r.charAt(a),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(a));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}}},q={methods:{getCurrentEditor:function(){var e=window.AsgardCMS.editor;return void 0===e||"ckeditor"===e?"ckeditor":"simplemde"===e?"markdown-editor":e}}},z=r("E+oP"),A=r.n(z);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V={components:{FormErrors:R},data:function(){return{selectedMedia:[],dialogFormVisible:!1,form:new D.a,loading:!1,selectIsLoading:!1,options:[],destinationFolder:""}},mounted:function(){var e=this;this.$events.listen("moveMediaWasClicked",(function(t){e.selectedMedia=t,e.dialogFormVisible=!0}))},methods:{onSubmit:function(){var e=this;this.loading=!0,this.form=new D.a({files:this.selectedMedia,destinationFolder:this.destinationFolder}),this.form.post(route("api.media.media.move")).then((function(t){e.loading=!1;var r=!0===t.errors?"warning":"success";e.$message({type:r,message:t.message}),e.dialogFormVisible=!1,e.$events.emit("mediaWasMoved",t)})).catch((function(){e.loading=!1,e.$notify.error({title:"Error",message:"There are some errors in the form."})}))},closeDialog:function(){this.form.clear(),this.dialogFormVisible=!1},fetchFolders:function(){var e=this;this.selectIsLoading=!0,h.a.get(route("api.media.folders.all-nestable")).then((function(t){e.options=B(B({},t.data),{},{0:"Root"}),e.selectIsLoading=!1}))}}},W=Object(C.a)(V,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{staticClass:"move-media-dialog",attrs:{visible:e.dialogFormVisible,title:"Move Media",width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t},open:e.fetchFolders}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit()}}},[r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("destinationFolder")},attrs:{label:"To"}},[r("form-errors",{attrs:{form:e.form}}),e._v(" "),r("el-select",{attrs:{placeholder:"Select"},model:{value:e.destinationFolder,callback:function(t){e.destinationFolder=t},expression:"destinationFolder"}},e._l(e.options,(function(t,a){return r("el-option",{key:a,attrs:{label:t,value:a,loading:e.selectIsLoading}},[r("span",{domProps:{innerHTML:e._s(t)}})])})),1),e._v(" "),e.form.errors.has("destinationFolder")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("destinationFolder"))}}):e._e()],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("\n                "+e._s(e.trans("core.button.cancel"))+"\n            ")]),e._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.onSubmit()}}},[e._v("\n                "+e._s(e.trans("core.move"))+"\n            ")])],1)],1)],1)}),[],!1,null,null,null).exports;function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J={components:{FormErrors:R},props:{parentId:{default:null,type:Number}},data:function(){return{dialogFormVisible:!1,folder:{name:""},form:new D.a,loading:!1}},methods:{onSubmit:function(){var e=this;this.form=new D.a(K(K({},this.folder),{},{parent_id:this.parentId})),this.loading=!0,this.form.post(route("api.media.folders.store")).then((function(t){e.loading=!1,e.$message({type:"success",message:t.message}),e.dialogFormVisible=!1,e.folder.name="",e.$events.emit("folderWasCreated",t)})).catch((function(t){console.log(t),e.loading=!1,e.$notify.error({title:"Error",message:"There are some errors in the form."})}))},closeDialog:function(){this.form.clear(),this.dialogFormVisible=!1}}},X=(r("SlOW"),Object(C.a)(J,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{staticClass:"new-folder",attrs:{type:"success"},on:{click:function(t){e.dialogFormVisible=!0}}},[r("i",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.trans("folders.create resource"))+"\n    ")]),e._v(" "),r("el-dialog",{attrs:{title:e.trans("folders.create resource"),visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],attrs:{model:e.folder},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit()}}},[r("form-errors",{attrs:{form:e.form}}),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("name")},attrs:{label:e.trans("folders.folder name")}},[r("el-input",{attrs:{"auto-complete":"off",autofocus:""},model:{value:e.folder.name,callback:function(t){e.$set(e.folder,"name",t)},expression:"folder.name"}}),e._v(" "),e.form.errors.has("name")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("name"))}}):e._e()],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v(e._s(e.trans("core.button.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v(e._s(e.trans("core.confirm")))])],1)],1)],1)}),[],!1,null,null,null).exports),Z={components:{FormErrors:R},data:function(){return{dialogFormVisible:!1,folder:{name:"",id:"",parent_id:""},form:new D.a,loading:!1}},mounted:function(){var e=this;this.$events.listen("editFolderWasClicked",(function(t){e.folder.name=t.filename,e.folder.id=t.id,e.folder.parent_id=t.folder_id,e.dialogFormVisible=!0}))},methods:{onSubmit:function(){var e=this;this.form=new D.a(this.folder),this.loading=!0,this.form.post(route("api.media.folders.update",{folder:this.folder.id})).then((function(t){e.loading=!1,e.$message({type:"success",message:t.message}),e.dialogFormVisible=!1,e.$events.emit("folderWasUpdated",t)})).catch((function(t){console.log(t),e.loading=!1,e.$notify.error({title:"Error",message:"There are some errors in the form."})}))},closeDialog:function(){this.form.clear(),this.dialogFormVisible=!1}}},G=Object(C.a)(Z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:"Rename Folder",visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],attrs:{model:e.folder},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit()}}},[r("form-errors",{attrs:{form:e.form}}),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("name")},attrs:{label:"Folder name"}},[r("el-input",{attrs:{"auto-complete":"off",autofocus:""},model:{value:e.folder.name,callback:function(t){e.$set(e.folder,"name",t)},expression:"folder.name"}}),e._v(" "),e.form.errors.has("name")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("name"))}}):e._e()],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v(e._s(e.trans("core.button.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v(e._s(e.trans("core.confirm")))])],1)],1)],1)}),[],!1,null,null,null).exports,Y={props:{parentId:{default:null,type:Number}},data:function(){return{fileIsUploading:!1}},computed:{uploadUrl:function(){return route("api.media.store").domain+route("api.media.store").url}},methods:{uploadFile:function(e){var t=this;this.fileIsUploading=!0;var r=new FormData;r.append("parent_id",this.parentId),r.append("file",e.file),h.a.post(route("api.media.store"),r).then((function(e){t.$events.emit("fileWasUploaded",e),t.$message({type:"success",message:t.trans("media.file uploaded")}),t.fileIsUploading=!1}),(function(e){console.log(e.response.data),t.fileIsUploading=!1,t.$notify.error({title:"Error",message:e.response.data.errors.file[0]})}))}}};r("atat");function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ae={components:{MoveDialog:W,NewFolder:X,RenameFolder:G,UploadZone:Object(C.a)(Y,(function(){var e=this.$createElement,t=this._self._c||e;return t("el-upload",{staticClass:"media-upload",attrs:{action:this.uploadUrl,"show-file-list":!1,"http-request":this.uploadFile,"list-type":"picture",drag:"",multiple:""}},[t("i",{staticClass:"el-icon-upload"}),this._v(" "),t("div",{staticClass:"el-upload__text"},[this._v("Drop file here or "),t("em",[this._v("click to upload")])])])}),[],!1,null,null,null).exports,DeleteButton:k,EditButton:O},mixins:[w],props:{singleModal:{default:!1,type:Boolean},eventName:{default:null,type:String}},data:function(){return{media:[],tableIsLoading:!1,meta:{current_page:1,per_page:30},order_meta:{order_by:"",order:""},links:{},searchQuery:"",folderId:0,selectedMedia:[],folderBreadcrumb:[{id:0,name:"Home"}],showUploadZone:!1,filesAreDeleting:!1,canEditFolders:!0}},watch:{$route:"fetchMediaData"},mounted:function(){var e=this;"s3"===window.AsgardCMS.filesystem&&(this.canEditFolders=!1),this.fetchMediaData(),this.$events.listen("fileWasUploaded",(function(t){e.tableIsLoading=!0,e.queryServer({folder_id:t.data.folder_id})})),this.$events.listen("folderWasCreated",(function(t){e.tableIsLoading=!0,e.queryServer({folder_id:t.data.folder_id})})),this.$events.listen("folderWasUpdated",(function(t){e.tableIsLoading=!0,e.queryServer({folder_id:t.data.folder_id})})),this.$events.listen("mediaWasMoved",(function(t){e.tableIsLoading=!0,e.queryServer({folder_id:t.folder_id}),e.fetchFolderBreadcrumb(t.folder_id)}))},methods:{queryServer:function(e){var t=this,r={page:this.meta.current_page,per_page:this.meta.per_page,order_by:this.order_meta.order_by,order:this.order_meta.order,search:this.searchQuery,folder_id:this.folderId};h.a.get(route("api.media.all-vue",te(te({},r),e))).then((function(e){t.tableIsLoading=!1,t.media=e.data.data,t.meta=e.data.meta,t.links=e.data.links,t.order_meta.order_by=r.order_by,t.order_meta.order=r.order}))},fetchMediaData:function(){if(this.tableIsLoading=!0,this.meta.current_page=1,void 0!==this.$route.query.folder_id)return this.queryServer({folder_id:this.$route.query.folder_id}),void this.fetchFolderBreadcrumb(this.$route.query.folder_id);this.queryServer(),this.fetchFolderBreadcrumb(0)},fetchFolderBreadcrumb:function(e){var t=this;0!==e?h.a.get(route("api.media.folders.breadcrumb",{folder:e})).then((function(e){t.folderBreadcrumb=e.data})):this.folderBreadcrumb=[{id:0,name:"Home"}]},handleSizeChange:function(e){console.log("per page :".concat(e)),this.tableIsLoading=!0,this.queryServer({per_page:e})},handleCurrentChange:function(e){console.log("current page :".concat(e)),this.tableIsLoading=!0,this.queryServer({page:e})},handleSortChange:function(e){console.log("sorting",e),this.tableIsLoading=!0,this.queryServer({order_by:e.prop,order:e.order})},performSearch:v()((function(e){console.log("searching:".concat(e.target.value)),this.tableIsLoading=!0,this.queryServer({search:e.target.value})}),300),enterFolder:function(e){this.tableIsLoading=!0,this.folderId=e.row.id,this.pushRoute({query:{folder_id:e.row.id}})},insertMedia:function(e){this.$events.emit(this.eventName,e.row)},handleSelectionChange:function(e){this.selectedMedia=e},toggleUploadZone:function(){this.showUploadZone=!this.showUploadZone},showEditFolder:function(e){this.$events.emit("editFolderWasClicked",e.row)},showMoveMedia:function(){this.$events.emit("moveMediaWasClicked",this.selectedMedia)},changeRoot:function(e){this.tableIsLoading=!0,this.folderId=e,0===e?this.pushRoute({query:{}}):this.pushRoute({query:{folder_id:e}})},batchDelete:function(){var e=this;this.$confirm(this.trans("core.modal.confirmation-message"),this.trans("core.modal.title"),{confirmButtonText:this.trans("core.button.delete"),cancelButtonText:this.trans("core.button.cancel"),type:"warning"}).then((function(){e.filesAreDeleting=!0,h.a.post(route("api.media.media.batch-destroy"),{files:e.selectedMedia}).then((function(t){e.$message({type:"success",message:t.data.message}),e.filesAreDeleting=!1,e.$refs.mediaTable.clearSelection(),e.fetchMediaData()}))})).catch((function(){e.$message({type:"info",message:e.trans("core.delete cancelled")})}))},goToEdit:function(e){this.pushRoute({name:"admin.media.media.edit",params:{mediaId:e.row.id}})}}},se=Object(C.a)(ae,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row",staticStyle:{"margin-top":"-35px"}},[r("div",{staticClass:"col-xs-12"},[r("div",{staticClass:"sc-table"},[r("div",{staticClass:"el-row"},[r("div",{staticClass:"title"},[!1===e.singleModal?r("h3",[e._v(e._s(e.trans("media.title.media")))]):e._e(),e._v(" "),r("div",{staticClass:"media-breadcrumb"},[e.singleModal?e._e():r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v("Home")])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.media.media.index"}}},[e._v("\n                                "+e._s(e.trans("media.breadcrumb.media"))+"\n                            ")])],1)],1)])]),e._v(" "),r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[e.showUploadZone?r("upload-zone",{attrs:{"parent-id":e.folderId}}):e._e(),e._v(" "),r("div",{staticClass:"tool-bar el-row",staticStyle:{"padding-bottom":"20px"}},[r("div",{staticClass:"actions el-col el-col-19"},[r("new-folder",{attrs:{"parent-id":e.folderId}}),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.toggleUploadZone}},[e._v("\n                                "+e._s(e.trans("media.upload file"))+"\n                            ")]),e._v(" "),r("el-button",{attrs:{disabled:0===e.selectedMedia.length,type:"warning"},on:{click:e.showMoveMedia}},[e._v("\n                                "+e._s(e.trans("core.move"))+"\n                            ")]),e._v(" "),r("el-button",{attrs:{disabled:0===e.selectedMedia.length,loading:e.filesAreDeleting,type:"danger"},on:{click:function(t){return t.preventDefault(),e.batchDelete(t)}}},[e._v("\n                                "+e._s(e.trans("core.button.delete"))+"\n                            ")])],1),e._v(" "),r("div",{staticClass:"search el-col el-col-5"},[r("el-input",{attrs:{"prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return e.performSearch(t)}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)]),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-breadcrumb",{staticStyle:{"margin-bottom":"20px"},attrs:{separator:"/"}},e._l(e.folderBreadcrumb,(function(t,a){return r("el-breadcrumb-item",{key:t.id,nativeOn:{click:function(r){return e.changeRoot(t.id,a)}}},[e._v("\n                                    "+e._s(t.name)+"\n                                ")])})),1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.tableIsLoading,expression:"tableIsLoading",modifiers:{body:!0}}],ref:"mediaTable",staticStyle:{width:"100%"},attrs:{data:e.media,stripe:""},on:{"sort-change":e.handleSortChange,"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{label:"",width:"150"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.is_image?[r("img",{staticClass:"img-responsive",attrs:{src:e.row.small_thumb,alt:""}})]:e.row.is_folder?[r("i",{staticClass:"fa fa-2x fa-folder"})]:[e.row.fa_icon?r("i",{staticClass:"fa fa-2x",class:e.row.fa_icon}):r("i",{staticClass:"fa fa-2x fa-file"})]]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("media.table.filename"),prop:"filename",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_folder?[r("strong",{staticStyle:{cursor:"pointer"},on:{click:function(r){return e.enterFolder(t)}}},[e._v("\n                                        "+e._s(t.row.filename)+"\n                                    ")])]:[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.goToEdit(t)}}},[e._v("\n                                        "+e._s(t.row.filename)+"\n                                    ")])]]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("core.table.created at"),prop:"created_at",sortable:"custom",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{label:"",prop:"actions",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"pull-right"},[e.singleModal&&!t.row.is_folder?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){return r.preventDefault(),e.insertMedia(t)}}},[e._v("\n                                        "+e._s(e.trans("media.insert"))+"\n                                    ")]):e._e(),e._v(" "),e.singleModal?e._e():r("div",[r("el-button-group",[t.row.is_folder?e._e():r("edit-button",{attrs:{to:{name:"admin.media.media.edit",params:{mediaId:t.row.id}}}}),e._v(" "),t.row.is_folder&&e.canEditFolders?r("el-button",{attrs:{size:"mini"},on:{click:function(r){return r.preventDefault(),e.showEditFolder(t)}}},[r("i",{staticClass:"fa fa-pencil"})]):e._e(),e._v(" "),r("delete-button",{attrs:{scope:t,rows:e.media}})],1)],1)],1)]}}])})],1),e._v(" "),r("div",{staticClass:"pagination-wrap",staticStyle:{"text-align":"center","padding-top":"20px"}},[r("el-pagination",{attrs:{"current-page":e.meta.current_page,"page-sizes":[10,20,30,50,100],"page-size":parseInt(e.meta.per_page),total:e.meta.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.meta,"current_page",t)},"update:current-page":function(t){return e.$set(e.meta,"current_page",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])]),e._v(" "),r("rename-folder"),e._v(" "),r("move-dialog")],1)}),[],!1,null,null,null).exports,oe={methods:{ucfirst:function(e){return e[0].toUpperCase()+e.substr(1)},ucwords:function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}};function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce={components:{MediaList:se},mixins:[oe,{methods:{randomString:function(e){for(var t=e||5,r="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)r+=a.charAt(Math.floor(Math.random()*a.length));return r}}}],props:{zone:{required:!0,type:String},entity:{required:!0,type:String},entityId:{default:null,type:Number},label:{default:null,type:String}},data:function(){return{dialogVisible:!1,selectedMedia:{},eventName:""}},computed:{hasSelectedMedia:function(){return!A()(this.selectedMedia)}},watch:{entityId:function(){this.entityId&&this.fetchMedia()}},mounted:function(){var e=this;this.entityId&&this.fetchMedia(),this.eventName="file-was-selected".concat(this.randomString()).concat(Math.floor(999999*Math.random())),this.$events.listen(this.eventName,(function(t){e.dialogVisible=!1,e.selectedMedia=t,e.$emit("single-file-selected",ie(ie({},t),{},{zone:e.zone}))}))},methods:{handleClose:function(e){e()},unSelectMedia:function(){this.selectedMedia={},this.$emit("single-file-selected",{id:null,zone:this.zone})},fetchMedia:function(){var e=this;h.a.get(route("api.media.find-first-by-zone-and-entity",{zone:this.zone,entity:this.entity,entity_id:this.entityId})).then((function(t){e.$emit("single-file-selected",ie(ie({},t.data.data),{},{zone:e.zone})),e.selectedMedia=t.data.data}))},getFieldLabel:function(){return this.label||this.ucwords(this.zone.replace("_"," "))}}},de=Object(C.a)(ce,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{staticClass:"el-form-item__label"},[e._v(e._s(e.getFieldLabel()))]),e._v(" "),e.hasSelectedMedia?r("div",{staticClass:"jsThumbnailImageWrapper jsSingleThumbnailWrapper"},[r("figure",[e.selectedMedia.is_image?r("img",{attrs:{src:e.selectedMedia.medium_thumb,alt:""}}):r("i",{class:"fa "+e.selectedMedia.fa_icon,staticStyle:{"font-size":"60px"}}),e._v(" "),e.selectedMedia.is_image?e._e():r("span",{staticStyle:{display:"block"}},[e._v(e._s(e.selectedMedia.filename))])]),e._v(" "),r("div",{staticClass:"clearfix"}),e._v(" "),r("el-button",{attrs:{type:"button"},on:{click:e.unSelectMedia}},[e._v(e._s(e.trans("media.remove media")))])],1):r("div",{},[r("el-button",{attrs:{type:"button"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(e._s(e.trans("media.Browse")))])],1),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogVisible,"before-close":e.handleClose,title:e.trans("media.choose file"),width:"75%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("media-list",{attrs:{"event-name":e.eventName,"single-modal":""}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.trans("core.button.cancel")))])],1)],1)],1)}),[],!1,null,null,null).exports,ue=r("Njdo"),me=r.n(ue),pe={methods:{selectSingleFile:function(e,t){var r=me()(this,t).safeObject;void 0===r.medias_single&&this.$set(r,"medias_single",{}),void 0===r.medias_single[e.zone]&&this.$set(r.medias_single,e.zone,null),null!==e.id&&void 0!==e.id?this.$set(r.medias_single,e.zone,e.id):this.$delete(r.medias_single,e.zone)}}},fe={props:{namespace:{required:!0,type:String},label:{default:"Tags",type:String},currentTags:{default:null,type:Array}},data:function(){return{tags:{},availableTags:{}}},watch:{currentTags:function(){null!==this.currentTags&&(this.tags=this.currentTags)}},mounted:function(){var e=this;h.a.get(route("api.tag.tag.by-namespace",{namespace:this.namespace})).then((function(t){e.availableTags=t.data}))},methods:{triggerEvent:function(){this.$emit("input",this.tags)}}},ge=Object(C.a)(fe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form-item",{attrs:{label:e.label}},[r("el-select",{attrs:{multiple:"",filterable:"","allow-create":"",remote:"","default-first-option":""},on:{change:e.triggerEvent},model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}},e._l(e.availableTags,(function(e){return r("el-option",{key:e.slug,attrs:{label:e.slug,value:e.name}})})),1)],1)}),[],!1,null,null,null).exports,he={components:{FormErrors:R,SingleMedia:de,TagsInput:ge},mixins:[L,w,q,pe],props:{locales:{default:null,type:Object},pageTitle:{default:null,type:String}},data:function(){return{page:window._(this.locales).keys().map((function(e){return[e,{title:"",slug:"",body:"",meta_title:"",meta_description:"",og_title:"",og_description:"",og_type:"",status:!1}]})).fromPairs().merge({id:null,template:"default",is_home:0,tags:[],urls:{}}).value(),templates:{index:"index",home:"home",default:"default"},form:new D.a,loading:!1,activeTab:window.AsgardCMS.currentLocale||"en"}},mounted:function(){this.fetchTemplates(),void 0!==this.$route.params.pageId&&this.fetchPage()},destroyed:function(){$(".publicUrl").hide()},methods:{onSubmit:function(){var e=this;this.form=new D.a(this.page),this.loading=!0,this.form.post(this.getRoute()).then((function(t){e.loading=!1,e.$message({type:"success",message:t.message}),e.pushRoute({name:"admin.page.page.index"})})).catch((function(t){console.log(t),e.loading=!1,e.$notify.error({title:"Error",message:"There are some errors in the form."})}))},onCancel:function(){this.pushRoute({name:"admin.page.page.index"})},fetchTemplates:function(){var e=this;h.a.get(route("api.page.page-templates.index")).then((function(t){e.templates=t.data}))},generateSlug:function(e,t){this.page[t].slug=this.slugify(this.page[t].title)},fetchPage:function(){var e=this;this.loading=!0,h.a.post(route("api.page.page.find",{page:this.$route.params.pageId})).then((function(t){e.loading=!1,e.page=t.data.data,$(".publicUrl").attr("href",e.page.urls.public_url).show()}))},getRoute:function(){return void 0!==this.$route.params.pageId?route("api.page.page.update",{page:this.$route.params.pageId}):route("api.page.page.store")}}},be=Object(C.a)(he,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"div"},[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("pages."+e.pageTitle))+"\n        ")]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v("Home")])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.page.page.index"}}},[e._v("\n                "+e._s(e.trans("pages.pages"))+"\n            ")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.page.page.create"}}},[e._v("\n                "+e._s(e.trans("pages."+e.pageTitle))+"\n            ")])],1)],1),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.page,"label-width":"120px","label-position":"top"},on:{keydown:function(t){return e.form.errors.clear(t.target.name)}}},[r("form-errors",{attrs:{form:e.form}}),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-10"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.locales,(function(t,a){return r("el-tab-pane",{key:t.name,attrs:{label:t.name,name:a}},[r("span",{class:{error:e.form.errors.has(a)},attrs:{slot:"label"},slot:"label"},[r("i",{class:"flag-icon flag-icon-"+a}),e._v("   "+e._s(t.name))]),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has(a+".title")},attrs:{label:e.trans("pages.title")}},[r("el-input",{on:{input:function(t){return e.generateSlug(t,a)}},model:{value:e.page[a].title,callback:function(t){e.$set(e.page[a],"title",t)},expression:"page[locale].title"}}),e._v(" "),e.form.errors.has(a+".title")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first(a+".title"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has(a+".slug")},attrs:{label:e.trans("pages.slug")}},[r("el-input",{model:{value:e.page[a].slug,callback:function(t){e.$set(e.page[a],"slug",t)},expression:"page[locale].slug"}},[r("el-button",{attrs:{slot:"prepend"},on:{click:function(t){return e.generateSlug(t,a)}},slot:"prepend"},[e._v("Generate")])],1),e._v(" "),e.form.errors.has(a+".slug")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first(a+".slug"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has(a+".body")},attrs:{label:e.trans("pages.body")}},[r(e.getCurrentEditor(),{tag:"component",attrs:{value:e.page[a].body},model:{value:e.page[a].body,callback:function(t){e.$set(e.page[a],"body",t)},expression:"page[locale].body"}}),e._v(" "),e.form.errors.has(a+".body")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first(a+".body"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has(a+".status")},attrs:{label:e.trans("pages.status")}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.page[a].status,callback:function(t){e.$set(e.page[a],"status",t)},expression:"page[locale].status"}}),e._v(" "),e.form.errors.has(a+".status")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first(a+".status"))}}):e._e()],1),e._v(" "),r("div",{staticClass:"panel box box-primary"},[r("div",{staticClass:"box-header"},[r("h4",{staticClass:"box-title"},[r("a",{staticClass:"collapsed",attrs:{href:"#collapseMeta-"+a,"data-toggle":"collapse","data-parent":"#accordion"}},[e._v("\n                                                "+e._s(e.trans("pages.meta_data"))+"\n                                            ")])])]),e._v(" "),r("div",{staticClass:"panel-collapse collapse",staticStyle:{height:"0"},attrs:{id:"collapseMeta-"+a}},[r("div",{staticClass:"box-body"},[r("el-form-item",{attrs:{label:e.trans("pages.meta_title")}},[r("el-input",{model:{value:e.page[a].meta_title,callback:function(t){e.$set(e.page[a],"meta_title",t)},expression:"page[locale].meta_title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.trans("pages.meta_description")}},[r("el-input",{attrs:{type:"textarea",autosize:"",maxlength:"186"},model:{value:e.page[a].meta_description,callback:function(t){e.$set(e.page[a],"meta_description",t)},expression:"page[locale].meta_description"}})],1)],1)])]),e._v(" "),r("div",{staticClass:"panel box box-primary"},[r("div",{staticClass:"box-header"},[r("h4",{staticClass:"box-title"},[r("a",{staticClass:"collapsed",attrs:{href:"#collapseFacebook-"+a,"data-toggle":"collapse","data-parent":"#accordion"}},[e._v("\n                                                "+e._s(e.trans("pages.facebook_data"))+"\n                                            ")])])]),e._v(" "),r("div",{staticClass:"panel-collapse collapse",staticStyle:{height:"0"},attrs:{id:"collapseFacebook-"+a}},[r("div",{staticClass:"box-body"},[r("el-form-item",{attrs:{label:e.trans("pages.og_title")}},[r("el-input",{model:{value:e.page[a].og_title,callback:function(t){e.$set(e.page[a],"og_title",t)},expression:"page[locale].og_title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.trans("pages.og_description")}},[r("el-input",{attrs:{type:"textarea",autosize:"",maxlength:"186"},model:{value:e.page[a].og_description,callback:function(t){e.$set(e.page[a],"og_description",t)},expression:"page[locale].og_description"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.trans("pages.og_type")}},[r("el-select",{attrs:{placeholder:e.trans("pages.og_type")},model:{value:e.page[a].og_type,callback:function(t){e.$set(e.page[a],"og_type",t)},expression:"page[locale].og_type"}},[r("el-option",{attrs:{label:e.trans("pages.facebook-types.website"),value:"website"}}),e._v(" "),r("el-option",{attrs:{label:e.trans("pages.facebook-types.product"),value:"product"}}),e._v(" "),r("el-option",{attrs:{label:e.trans("pages.facebook-types.article"),value:"article"}})],1)],1)],1)])]),e._v(" "),r("el-form-item",[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("\n                                        "+e._s(e.trans("core.save"))+"\n                                    ")]),e._v(" "),r("el-button",{on:{click:function(t){return e.onCancel()}}},[e._v("\n                                        "+e._s(e.trans("core.button.cancel"))+"\n                                    ")])],1)],1)})),1)],1)])]),e._v(" "),r("div",{staticClass:"col-md-2"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("el-form-item",{attrs:{label:""}},[r("el-checkbox",{attrs:{label:e.trans("pages.is homepage"),"true-label":1,"false-label":0,name:"is_home"},model:{value:e.page.is_home,callback:function(t){e.$set(e.page,"is_home",t)},expression:"page.is_home"}})],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("template")},attrs:{label:e.trans("pages.template")}},[r("el-select",{attrs:{filterable:""},model:{value:e.page.template,callback:function(t){e.$set(e.page,"template",t)},expression:"page.template"}},e._l(e.templates,(function(e,t){return r("el-option",{key:e,attrs:{label:e,value:t}})})),1),e._v(" "),e.form.errors.has("template")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("template"))}}):e._e()],1),e._v(" "),r("tags-input",{attrs:{"current-tags":e.page.tags,namespace:"asgardcms/page"},model:{value:e.page.tags,callback:function(t){e.$set(e.page,"tags",t)},expression:"page.tags"}}),e._v(" "),r("single-media",{attrs:{"entity-id":e.page.id,zone:"image",entity:"Modules\\Page\\Entities\\Page"},on:{"single-file-selected":function(t){return e.selectSingleFile(t,"page")}}})],1)])])])],1),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"shortkey",rawName:"v-shortkey",value:["b"],expression:"['b']"}],on:{shortkey:function(t){return e.pushRoute({name:"admin.page.page.index"})}}})],1)}),[],!1,null,null,null).exports,ve=window.AsgardCMS.locales,_e=[{path:"/page/pages",name:"admin.page.page.index",component:T},{path:"/page/pages/create",name:"admin.page.page.create",component:be,props:{locales:ve,pageTitle:"create page"}},{path:"/page/pages/:pageId/edit",name:"admin.page.page.edit",component:be,props:{locales:ve,pageTitle:"edit page"}}],ye={data:function(){return{}},mounted:function(){},methods:{}},we=Object(C.a)(ye,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)}),[],!1,null,null,null).exports,xe={components:{FormErrors:R,TagsInput:ge},mixins:[w],props:{locales:{default:null,type:Object}},data:function(){return{media:window._(this.locales).keys().map((function(e){return[e,{description:"",alt_attribute:"",keywords:""}]})).fromPairs().merge({id:"",filename:"",path:"",is_image:"",is_folder:"",media_type:"",fa_icon:"",created_at:"",folder_id:"",small_thumb:"",medium_thumb:"",tags:[],urls:{},thumbnails:[]}).value(),form:new D.a,loading:!1,activeTab:window.AsgardCMS.currentLocale||"en"}},mounted:function(){void 0!==this.$route.params.mediaId&&this.fetchMedia()},methods:{fetchMedia:function(){var e=this;this.loading=!0,h.a.get(route("api.media.media.find",{media:this.$route.params.mediaId})).then((function(t){e.loading=!1,e.media=t.data.data}))},onSubmit:function(){var e=this;this.form=new D.a(this.media),this.loading=!0,this.form.put(route("api.media.media.update",{file:this.media.id})).then((function(t){e.loading=!1,e.$message({type:"success",message:t.message}),e.pushRoute({name:"admin.media.media.index",query:{folder_id:e.media.folder_id}})})).catch((function(t){console.log(t),e.loading=!1,e.$notify.error({title:"Error",message:"There are some errors in the form."})}))},onCancel:function(){0!==this.media.folder_id?this.pushRoute({name:"admin.media.media.index",query:{folder_id:this.media.folder_id}}):this.pushRoute({name:"admin.media.media.index",query:{}})}}},Ce=[{path:"/media/media",component:we,children:[{path:"",component:se,name:"admin.media.media.index"},{path:":mediaId/edit",component:Object(C.a)(xe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("media.title.edit media"))+"\n        ")]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v("Home")])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.media.media.index",query:{folder_id:e.media.folder_id}}}},[e._v("\n                "+e._s(e.trans("media.breadcrumb.media"))+"\n            ")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.media.media.edit"}}},[e._v("\n                "+e._s(e.trans("media.title.edit media"))+"\n            ")])],1)],1),e._v(" "),r("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],ref:"form",attrs:{model:e.media,"label-width":"120px","label-position":"top"},on:{keydown:function(t){return e.form.errors.clear(t.target.name)}}},[r("form-errors",{attrs:{form:e.form}}),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-8"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.locales,(function(t,a){return r("el-tab-pane",{key:t.name,attrs:{label:t.name,name:a}},[r("span",{class:{error:e.form.errors.has(a)},attrs:{slot:"label"},slot:"label"},[r("i",{class:"flag-icon flag-icon-"+a}),e._v("   "+e._s(t.name))]),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has(a+".alt_attribute")},attrs:{label:e.trans("media.form.alt_attribute")}},[r("el-input",{model:{value:e.media[a].alt_attribute,callback:function(t){e.$set(e.media[a],"alt_attribute",t)},expression:"media[locale].alt_attribute"}}),e._v(" "),e.form.errors.has(a+".alt_attribute")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first(a+".alt_attribute"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has(a+".description")},attrs:{label:e.trans("media.form.description")}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.media[a].description,callback:function(t){e.$set(e.media[a],"description",t)},expression:"media[locale].description"}}),e._v(" "),e.form.errors.has(a+".description")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first(a+".description"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has(a+".keywords")},attrs:{label:e.trans("media.form.keywords")}},[r("el-input",{model:{value:e.media[a].keywords,callback:function(t){e.$set(e.media[a],"keywords",t)},expression:"media[locale].keywords"}}),e._v(" "),e.form.errors.has(a+".keywords")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first(a+".keywords"))}}):e._e()],1),e._v(" "),r("hr"),e._v(" "),r("tags-input",{attrs:{"current-tags":e.media.tags,namespace:"asgardcms/media"},model:{value:e.media.tags,callback:function(t){e.$set(e.media,"tags",t)},expression:"media.tags"}}),e._v(" "),r("el-form-item",[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("\n                                        "+e._s(e.trans("core.save"))+"\n                                    ")]),e._v(" "),r("el-button",{on:{click:function(t){return e.onCancel()}}},[e._v("\n                                        "+e._s(e.trans("core.button.cancel"))+"\n                                    ")])],1)],1)})),1)],1)])]),e._v(" "),r("div",{staticClass:"col-md-4"},[e.media.is_image?r("div",[r("img",{staticClass:"img-responsive",attrs:{src:e.media.path,alt:""}})]):r("div",[e.media.fa_icon?r("i",{staticClass:"fa fa-5x",class:e.media.fa_icon}):r("i",{staticClass:"fa fa-5x fa-file"})])])])],1),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("h3",[e._v("Thumbnails")]),e._v(" "),r("ul",{staticClass:"list-unstyled"},e._l(e.media.thumbnails,(function(t){return r("li",{key:t.name,staticStyle:{float:"left","margin-right":"10px"}},[r("img",{attrs:{src:t.path,alt:""}}),e._v(" "),r("p",{staticClass:"text-muted",staticStyle:{"text-align":"center"}},[e._v(e._s(t.name)+" ("+e._s(t.size)+")")])])})),0)])])],1)}),[],!1,null,null,null).exports,name:"admin.media.media.edit",props:{locales:window.AsgardCMS.locales}}]}];function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $e={components:{DeleteButton:k,EditButton:O},mixins:[w],data:function(){return{data:[],meta:{current_page:1,per_page:30},order_meta:{order_by:"",order:""},links:{},searchQuery:"",tableIsLoading:!1}},mounted:function(){this.fetchData()},methods:{queryServer:function(e){var t=this,r={page:this.meta.current_page,per_page:this.meta.per_page,order_by:this.order_meta.order_by,order:this.order_meta.order,search:this.searchQuery};h.a.get(route("api.user.role.index",Se(Se({},r),e))).then((function(e){t.tableIsLoading=!1,t.data=e.data.data,t.meta=e.data.meta,t.links=e.data.links,t.order_meta.order_by=r.order_by,t.order_meta.order=r.order}))},fetchData:function(){this.tableIsLoading=!0,this.queryServer()},handleSizeChange:function(e){console.log("per page :".concat(e)),this.tableIsLoading=!0,this.queryServer({per_page:e})},handleCurrentChange:function(e){console.log("current page :".concat(e)),this.tableIsLoading=!0,this.queryServer({page:e})},handleSortChange:function(e){console.log("sorting",e),this.tableIsLoading=!0,this.queryServer({order_by:e.prop,order:e.order})},performSearch:v()((function(e){console.log("searching:".concat(e.target.value)),this.tableIsLoading=!0,this.queryServer({search:e.target.value})}),300),goToEdit:function(e){this.pushRoute({name:"admin.user.role.edit",params:{roleId:e.row.id}})},editRoute:function(e){return route("admin.user.role.edit",[e.row.id])}}},je=Object(C.a)($e,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("roles.title.roles"))+"\n        ")]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v(e._s(e.trans("core.breadcrumb.home")))])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.user.role.index"}}},[e._v("\n                "+e._s(e.trans("roles.title.roles"))+"\n            ")])],1)],1),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("div",{staticClass:"sc-table"},[r("div",{staticClass:"tool-bar el-row",staticStyle:{"padding-bottom":"20px"}},[r("div",{staticClass:"actions el-col el-col-8"},[r("router-link",{attrs:{to:{name:"admin.user.role.create"}}},[r("el-button",{attrs:{type:"primary"}},[r("i",{staticClass:"el-icon-edit"}),e._v("\n                                        "+e._s(e.trans("roles.new-role"))+"\n                                    ")])],1)],1),e._v(" "),r("div",{staticClass:"search el-col el-col-5"},[r("el-input",{attrs:{"prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return e.performSearch(t)}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)]),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.tableIsLoading,expression:"tableIsLoading",modifiers:{body:!0}}],ref:"pageTable",staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""},on:{"sort-change":e.handleSortChange}},[r("el-table-column",{attrs:{label:"Id",prop:"id",width:"75",sortable:"custom"}}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("roles.table.name"),prop:"name",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:e.editRoute(t)},on:{click:function(r){return r.preventDefault(),e.goToEdit(t)}}},[e._v("\n                                        "+e._s(t.row.name)+"\n                                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("roles.table.slug"),prop:"slug",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:e.editRoute(t)},on:{click:function(r){return r.preventDefault(),e.goToEdit(t)}}},[e._v("\n                                        "+e._s(t.row.slug)+"\n                                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("core.table.created at"),prop:"created_at",sortable:"custom"}}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("core.table.actions"),prop:"actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[r("edit-button",{attrs:{to:{name:"admin.user.role.edit",params:{roleId:t.row.id}}}}),e._v(" "),r("delete-button",{attrs:{scope:t,rows:e.data}})],1)]}}])})],1),e._v(" "),r("div",{staticClass:"pagination-wrap",staticStyle:{"text-align":"center","padding-top":"20px"}},[r("el-pagination",{attrs:{"current-page":e.meta.current_page,"page-sizes":[10,20,30,50,100],"page-size":parseInt(e.meta.per_page),total:e.meta.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.meta,"current_page",t)},"update:current-page":function(t){return e.$set(e.meta,"current_page",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])])]),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"shortkey",rawName:"v-shortkey",value:["c"],expression:"['c']"}],on:{shortkey:function(t){return e.pushRoute({name:"admin.user.role.create"})}}})])}),[],!1,null,null,null).exports,Pe=r("bNQv"),Ie=r.n(Pe),Ee={mixins:[oe],props:{isRole:{default:!1,type:Boolean},currentPermissions:{default:null,type:Object}},data:function(){return{permissions:{},allPermissions:{}}},watch:{currentPermissions:function(){null!==this.currentPermissions&&(this.permissions=this.currentPermissions)}},mounted:function(){this.fetchPermissions()},methods:{triggerEvent:function(){this.$emit("input",this.permissions)},parseTranslation:function(e){return this.trans(e.split("::")[1])},changeState:function(e,t,r){var a=this;Ie()(t,(function(t,s){a.permissions["".concat(e,".").concat(s)]=r}))},changeStateForAll:function(e){var t=this;Ie()(this.permissions,(function(r,a){t.permissions[a]=e}))},fetchPermissions:function(){var e=this;h.a.get(route("api.user.permissions.index")).then((function(t){e.loading=!1,e.allPermissions=t.data.permissions}))}}},Te=Object(C.a)(Ee,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",{staticClass:"pull-right"},[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.changeStateForAll(1)}}},[e._v("\n            "+e._s(e.trans("roles.allow all"))+"\n        ")]),e._v(" "),e.isRole?e._e():r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.changeStateForAll(0)}}},[e._v("\n            "+e._s(e.trans("roles.inherit all"))+"\n        ")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.changeStateForAll(-1)}}},[e._v("\n            "+e._s(e.trans("roles.deny all"))+"\n        ")])],1),e._v(" "),e._l(e.allPermissions,(function(t,a){return r("div",{key:a},[r("h3",[e._v(e._s(a))]),e._v(" "),e._l(t,(function(t,a){return r("div",{key:a},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"},[r("h4",{staticClass:"pull-left"},[e._v(e._s(e.ucfirst(a)))])]),e._v(" "),r("div",{staticClass:"col-md-9"},[r("p",{staticStyle:{"margin-top":"10px"}},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.changeState(a,t,1)}}},[e._v("\n                                    "+e._s(e.trans("roles.allow all"))+"\n                                ")]),e._v(" "),e.isRole?e._e():r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.changeState(a,t,0)}}},[e._v("\n                                    "+e._s(e.trans("roles.inherit all"))+"\n                                ")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.changeState(a,t,-1)}}},[e._v("\n                                    "+e._s(e.trans("roles.deny all"))+"\n                                ")])],1)])])])]),e._v(" "),r("div",{staticClass:"row"},e._l(t,(function(t,s){return r("div",{key:s,staticClass:"col-md-12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"},[r("div",{staticClass:"visible-sm-block visible-md-block visible-lg-block"},[r("label",{staticClass:"control-label text-right",staticStyle:{display:"block"}},[e._v(e._s(e.parseTranslation(t)))])]),e._v(" "),r("div",{staticClass:"visible-xs-block"},[r("label",{staticClass:"control-label"},[e._v(e._s(e.parseTranslation(t)))])])]),e._v(" "),r("div",{staticClass:"col-md-9"},[r("el-radio-group",{model:{value:e.permissions[a+"."+s],callback:function(t){e.$set(e.permissions,a+"."+s,t)},expression:"permissions[subPermissionTitle + '.' + permissionAction]"}},[r("el-radio-button",{attrs:{label:1},on:{click:e.triggerEvent}},[e._v(e._s(e.trans("roles.allow")))]),e._v(" "),e.isRole?e._e():r("el-radio-button",{attrs:{label:0},on:{click:e.triggerEvent}},[e._v(e._s(e.trans("roles.inherit")))]),e._v(" "),r("el-radio-button",{attrs:{label:-1},on:{click:e.triggerEvent}},[e._v(e._s(e.trans("roles.deny")))])],1)],1)])])})),0)])}))],2)}))],2)}),[],!1,null,null,null).exports,Me={components:{AsgardPermissions:Te,FormErrors:R},mixins:[L,w],props:{locales:{default:null,type:Object},pageTitle:{default:null,type:String}},data:function(){return{role:{name:"",slug:"",permissions:{},users:{}},form:new D.a,loading:!1}},mounted:function(){this.fetchRole()},methods:{onSubmit:function(){var e=this;this.form=new D.a(this.role),this.loading=!0,this.form.post(this.getRoute()).then((function(t){e.loading=!1,e.$message({type:"success",message:t.message}),e.pushRoute({name:"admin.user.role.index"})})).catch((function(t){console.log(t),e.loading=!1,e.$notify.error({title:"Error",message:"There are some errors in the form."})}))},onCancel:function(){this.pushRoute({name:"admin.user.role.index"})},generateSlug:function(){this.role.slug=this.slugify(this.role.name)},fetchRole:function(){var e=this;this.loading=!0;var t="";t=void 0!==this.$route.params.roleId?route("api.user.role.find",{role:this.$route.params.roleId}):route("api.user.role.find-new"),h.a.post(t).then((function(t){e.loading=!1,e.role=t.data.data}))},getRoute:function(){return void 0!==this.$route.params.roleId?route("api.user.role.update",{role:this.$route.params.roleId}):route("api.user.role.store")}}},De=Object(C.a)(Me,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("roles."+e.pageTitle))+"\n            "),r("small",[e._v(e._s(e.role.name))])]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v(e._s(e.trans("core.breadcrumb.home")))])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.user.role.index"}}},[e._v("\n                "+e._s(e.trans("roles.title.roles"))+"\n            ")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.user.role.create"}}},[e._v("\n                "+e._s(e.trans("roles."+e.pageTitle))+"\n            ")])],1)],1),e._v(" "),r("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],ref:"form",attrs:{model:e.role,"label-width":"120px","label-position":"top"},on:{keydown:function(t){return e.form.errors.clear(t.target.name)}}},[r("form-errors",{attrs:{form:e.form}}),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("el-tabs",[r("el-tab-pane",{attrs:{label:e.trans("roles.tabs.data")}},[r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("name")},attrs:{label:e.trans("roles.form.name")}},[r("el-input",{on:{input:e.generateSlug},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}}),e._v(" "),e.form.errors.has("name")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("name"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("slug")},attrs:{label:e.trans("roles.form.slug")}},[r("el-input",{model:{value:e.role.slug,callback:function(t){e.$set(e.role,"slug",t)},expression:"role.slug"}},[r("el-button",{attrs:{slot:"prepend"},on:{click:e.generateSlug},slot:"prepend"},[e._v("Generate")])],1),e._v(" "),e.form.errors.has("slug")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("slug"))}}):e._e()],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.trans("roles.tabs.permissions")}},[r("asgard-permissions",{attrs:{"current-permissions":e.role.permissions,"is-role":""},model:{value:e.role.permissions,callback:function(t){e.$set(e.role,"permissions",t)},expression:"role.permissions"}})],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.trans("users.title.users")}},[r("h3",[e._v(e._s(e.trans("roles.title.users-with-roles")))]),e._v(" "),r("ul",e._l(e.role.users,(function(t){return r("li",{key:t.id},[e._v(e._s(t.fullname)+" ("+e._s(t.email)+")")])})),0)])],1)],1),e._v(" "),r("div",{staticClass:"box-footer"},[r("el-form-item",[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("\n                                "+e._s(e.trans("core.save"))+"\n                            ")]),e._v(" "),r("el-button",{on:{click:function(t){return e.onCancel()}}},[e._v("\n                                "+e._s(e.trans("core.button.cancel"))+"\n                            ")])],1)],1)])])])],1),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"shortkey",rawName:"v-shortkey",value:["b"],expression:"['b']"}],on:{shortkey:function(t){return e.pushRoute({name:"admin.user.role.index"})}}})],1)}),[],!1,null,null,null).exports;function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qe={components:{DeleteButton:k,EditButton:O},mixins:[w],data:function(){return{data:[],meta:{current_page:1,per_page:30},order_meta:{order_by:"",order:""},links:{},searchQuery:"",tableIsLoading:!1}},mounted:function(){this.fetchData()},methods:{queryServer:function(e){var t=this,r={page:this.meta.current_page,per_page:this.meta.per_page,order_by:this.order_meta.order_by,order:this.order_meta.order,search:this.searchQuery};h.a.get(route("api.user.user.index",Re(Re({},r),e))).then((function(e){t.tableIsLoading=!1,t.data=e.data.data,t.meta=e.data.meta,t.links=e.data.links,t.order_meta.order_by=r.order_by,t.order_meta.order=r.order}))},fetchData:function(){this.tableIsLoading=!0,this.queryServer()},handleSizeChange:function(e){console.log("per page :".concat(e)),this.tableIsLoading=!0,this.queryServer({per_page:e})},handleCurrentChange:function(e){console.log("current page :".concat(e)),this.tableIsLoading=!0,this.queryServer({page:e})},handleSortChange:function(e){console.log("sorting",e),this.tableIsLoading=!0,this.queryServer({order_by:e.prop,order:e.order})},performSearch:v()((function(e){console.log("searching:".concat(e.target.value)),this.tableIsLoading=!0,this.queryServer({search:e.target.value})}),300),goToEdit:function(e){this.pushRoute({name:"admin.user.user.edit",params:{userId:e.row.id}})},editRoute:function(e){return route("admin.user.user.edit",[e.row.id])}}},ze=Object(C.a)(qe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("users.title.users"))+"\n        ")]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v(e._s(e.trans("core.breadcrumb.home")))])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.user.user.index"}}},[e._v("\n                "+e._s(e.trans("users.title.users"))+"\n            ")])],1)],1),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("div",{staticClass:"sc-table"},[r("div",{staticClass:"tool-bar el-row",staticStyle:{"padding-bottom":"20px"}},[r("div",{staticClass:"actions el-col el-col-8"},[r("router-link",{attrs:{to:{name:"admin.user.user.create"}}},[r("el-button",{attrs:{type:"primary"}},[r("i",{staticClass:"el-icon-edit"}),e._v("\n                                        "+e._s(e.trans("users.button.new-user"))+"\n                                    ")])],1)],1),e._v(" "),r("div",{staticClass:"search el-col el-col-5"},[r("el-input",{attrs:{"prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return e.performSearch(t)}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)]),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.tableIsLoading,expression:"tableIsLoading",modifiers:{body:!0}}],ref:"pageTable",staticStyle:{width:"100%"},attrs:{data:e.data,stripe:""},on:{"sort-change":e.handleSortChange}},[r("el-table-column",{attrs:{prop:"id",label:"Id",width:"75",sortable:"custom"}}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("users.table.first-name"),prop:"first_name",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:e.editRoute(t)},on:{click:function(r){return r.preventDefault(),e.goToEdit(t)}}},[e._v("\n                                        "+e._s(t.row.first_name)+"\n                                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("users.table.last-name"),prop:"last_name",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:e.editRoute(t)},on:{click:function(r){return r.preventDefault(),e.goToEdit(t)}}},[e._v("\n                                        "+e._s(t.row.last_name)+"\n                                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("users.table.email"),prop:"email",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:e.editRoute(t)},on:{click:function(r){return r.preventDefault(),e.goToEdit(t)}}},[e._v("\n                                        "+e._s(t.row.email)+"\n                                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("core.table.created at"),prop:"created_at",sortable:"custom"}}),e._v(" "),r("el-table-column",{attrs:{label:e.trans("core.table.actions"),prop:"actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[r("edit-button",{attrs:{to:{name:"admin.user.user.edit",params:{userId:t.row.id}}}}),e._v(" "),r("delete-button",{attrs:{scope:t,rows:e.data}})],1)]}}])})],1),e._v(" "),r("div",{staticClass:"pagination-wrap",staticStyle:{"text-align":"center","padding-top":"20px"}},[r("el-pagination",{attrs:{"current-page":e.meta.current_page,"page-sizes":[10,20,30,50,100],"page-size":parseInt(e.meta.per_page),total:e.meta.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.meta,"current_page",t)},"update:current-page":function(t){return e.$set(e.meta,"current_page",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])])]),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"shortkey",rawName:"v-shortkey",value:["c"],expression:"['c']"}],on:{shortkey:function(t){return e.pushRoute({name:"admin.user.user.create"})}}})])}),[],!1,null,null,null).exports,Ae={components:{AsgardPermissions:Te,FormErrors:R},mixins:[w],props:{locales:{default:null,type:Object},pageTitle:{default:null,type:String}},data:function(){return{user:{first_name:"",last_name:"",permissions:{},roles:{},is_new:!1,is_activated:!1},roles:{},form:new D.a,loading:!1,resetEmailIsLoading:!1}},mounted:function(){this.fetchUser(),this.fetchRoles()},methods:{onSubmit:function(){var e=this;this.form=new D.a(this.user),this.loading=!0,this.form.post(this.getRoute()).then((function(t){e.loading=!1,e.$message({type:"success",message:t.message}),e.pushRoute({name:"admin.user.user.index"})})).catch((function(t){console.log(t),e.loading=!1,e.$notify.error({title:"Error",message:"There are some errors in the form."})}))},onCancel:function(){this.pushRoute({name:"admin.user.user.index"})},fetchUser:function(){var e=this;this.loading=!0;var t="";t=void 0!==this.$route.params.userId?route("api.user.user.find",{user:this.$route.params.userId}):route("api.user.user.find-new"),h.a.post(t).then((function(t){e.loading=!1,e.user=t.data.data}))},getRoute:function(){return void 0!==this.$route.params.userId?route("api.user.user.update",{user:this.$route.params.userId}):route("api.user.user.store")},fetchRoles:function(){var e=this;h.a.get(route("api.user.role.all")).then((function(t){e.roles=t.data.data}))},sendResetEmail:function(){var e=this;this.resetEmailIsLoading=!0,h.a.get(route("api.user.user.sendResetPassword",{user:this.$route.params.userId})).then((function(t){e.resetEmailIsLoading=!1,e.$notify.success({title:"Success",message:t.data.message})}))}}},Ne=Object(C.a)(Ae,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("users."+e.pageTitle))+"\n            "),r("small",[e._v(e._s(e.user.first_name)+" "+e._s(e.user.last_name))])]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v(e._s(e.trans("core.breadcrumb.home")))])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.user.user.index"}}},[e._v("\n                "+e._s(e.trans("users.title.users"))+"\n            ")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.user.user.create"}}},[e._v("\n                "+e._s(e.trans("users."+e.pageTitle))+"\n            ")])],1)],1),e._v(" "),r("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],ref:"form",attrs:{model:e.user,"label-width":"120px","label-position":"top"},on:{keydown:function(t){return e.form.errors.clear(t.target.name)}}},[r("form-errors",{attrs:{form:e.form}}),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("el-tabs",[r("el-tab-pane",{attrs:{label:e.trans("users.tabs.data")}},[r("span",{class:{error:e.form.errors.any()},attrs:{slot:"label"},slot:"label"},[e._v("\n                                    "+e._s(e.trans("users.tabs.data"))+"\n                                ")]),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("first_name")},attrs:{label:e.trans("users.form.first-name")}},[r("el-input",{model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}}),e._v(" "),e.form.errors.has("first_name")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("first_name"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("last_name")},attrs:{label:e.trans("users.form.last-name")}},[r("el-input",{model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}}),e._v(" "),e.form.errors.has("last_name")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("last_name"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("email")},attrs:{label:e.trans("users.form.email")}},[r("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e._v(" "),e.form.errors.has("email")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("email"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("activated")},attrs:{label:e.trans("users.form.is activated")}},[r("el-checkbox",{model:{value:e.user.is_activated,callback:function(t){e.$set(e.user,"is_activated",t)},expression:"user.is_activated"}},[e._v("Activated")]),e._v(" "),e.form.errors.has("activated")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("activated"))}}):e._e()],1),e._v(" "),e.user.is_new?r("div",[r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("password")},attrs:{label:e.trans("users.form.password")}},[r("el-input",{attrs:{type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),e.form.errors.has("password")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("password"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("password_confirmation")},attrs:{label:e.trans("users.form.password-confirmation")}},[r("el-input",{attrs:{type:"password"},model:{value:e.user.password_confirmation,callback:function(t){e.$set(e.user,"password_confirmation",t)},expression:"user.password_confirmation"}}),e._v(" "),e.form.errors.has("password_confirmation")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("password_confirmation"))}}):e._e()],1)],1):e._e()],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.trans("users.tabs.roles")}},[r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("roles")},attrs:{label:e.trans("users.form.roles")}},[r("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:e.user.roles,callback:function(t){e.$set(e.user,"roles",t)},expression:"user.roles"}},e._l(e.roles,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v(" "),e.form.errors.has("roles")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("roles"))}}):e._e()],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.trans("users.tabs.permissions")}},[r("asgard-permissions",{attrs:{"current-permissions":e.user.permissions},model:{value:e.user.permissions,callback:function(t){e.$set(e.user,"permissions",t)},expression:"user.permissions"}})],1),e._v(" "),e.user.is_new?e._e():r("el-tab-pane",{attrs:{label:e.trans("users.tabs.new password")}},[e.user.is_new?e._e():r("div",[r("div",{staticClass:"col-md-6"},[r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("password")},attrs:{label:e.trans("users.form.password")}},[r("el-input",{attrs:{type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),e.form.errors.has("password")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("password"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("password_confirmation")},attrs:{label:e.trans("users.form.password-confirmation")}},[r("el-input",{attrs:{type:"password"},model:{value:e.user.password_confirmation,callback:function(t){e.$set(e.user,"password_confirmation",t)},expression:"user.password_confirmation"}}),e._v(" "),e.form.errors.has("password_confirmation")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("password_confirmation"))}}):e._e()],1)],1),e._v(" "),r("div",{staticClass:"col-md-6"},[r("h4",[e._v(e._s(e.trans("users.tabs.or send reset password mail")))]),e._v(" "),r("el-button",{attrs:{loading:e.resetEmailIsLoading,type:"info"},on:{click:e.sendResetEmail}},[e._v("\n                                            "+e._s(e.trans("users.send reset password email"))+"\n                                        ")])],1)])])],1)],1),e._v(" "),r("div",{staticClass:"box-footer"},[r("el-form-item",[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("\n                                "+e._s(e.trans("core.save"))+"\n                            ")]),e._v(" "),r("el-button",{on:{click:function(t){return e.onCancel()}}},[e._v("\n                                "+e._s(e.trans("core.button.cancel"))+"\n                            ")])],1)],1)])])])],1),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"shortkey",rawName:"v-shortkey",value:["b"],expression:"['b']"}],on:{shortkey:function(t){return e.pushRoute({name:"admin.user.user.index"})}}})],1)}),[],!1,null,null,null).exports,Be={components:{FormErrors:R},props:{locales:{default:null,type:Object}},data:function(){return{user:{first_name:"",last_name:"",permissions:{},roles:{},is_new:!1},roles:{},form:new D.a,loading:!1}},mounted:function(){this.fetchUser()},methods:{onSubmit:function(){var e=this;this.form=new D.a(this.user),this.loading=!0,this.form.post(route("api.account.profile.update")).then((function(t){e.loading=!1,e.$message({type:"success",message:t.message})})).catch((function(t){console.log(t),e.loading=!1,e.$notify.error({title:"Error",message:"There are some errors in the form."})}))},fetchUser:function(){var e=this;this.loading=!0,h.a.get(route("api.account.profile.find-current-user")).then((function(t){e.loading=!1,e.user=t.data.data}))}}},Ue=Object(C.a)(Be,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("users.title.edit-profile"))+"\n        ")]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v(e._s(e.trans("core.breadcrumb.home")))])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.user.user.account"}}},[e._v("\n                "+e._s(e.trans("users.breadcrumb.edit-profile"))+"\n            ")])],1)],1),e._v(" "),r("el-form",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],ref:"form",attrs:{model:e.user,"label-width":"120px","label-position":"top"},on:{keydown:function(t){return e.form.errors.clear(t.target.name)}}},[r("form-errors",{attrs:{form:e.form}}),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-body"},[r("el-tabs",[r("el-tab-pane",{attrs:{label:e.trans("users.tabs.data")}},[r("span",{class:{error:e.form.errors.any()},attrs:{slot:"label"},slot:"label"},[e._v(e._s(e.trans("users.tabs.data")))]),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("first_name")},attrs:{label:e.trans("users.form.first-name")}},[r("el-input",{model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}}),e._v(" "),e.form.errors.has("first_name")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("first_name"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("last_name")},attrs:{label:e.trans("users.form.last-name")}},[r("el-input",{model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}}),e._v(" "),e.form.errors.has("last_name")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("last_name"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("email")},attrs:{label:e.trans("users.form.email")}},[r("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e._v(" "),e.form.errors.has("email")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("email"))}}):e._e()],1)],1),e._v(" "),e.user.is_new?e._e():r("el-tab-pane",{attrs:{label:e.trans("users.tabs.new password")}},[r("h4",[e._v(e._s(e.trans("users.new password setup")))]),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("password")},attrs:{label:e.trans("users.form.password")}},[r("el-input",{attrs:{type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),e.form.errors.has("password")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("password"))}}):e._e()],1),e._v(" "),r("el-form-item",{class:{"el-form-item is-error":e.form.errors.has("password_confirmation")},attrs:{label:e.trans("users.form.password-confirmation")}},[r("el-input",{attrs:{type:"password"},model:{value:e.user.password_confirmation,callback:function(t){e.$set(e.user,"password_confirmation",t)},expression:"user.password_confirmation"}}),e._v(" "),e.form.errors.has("password_confirmation")?r("div",{staticClass:"el-form-item__error",domProps:{textContent:e._s(e.form.errors.first("password_confirmation"))}}):e._e()],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"box-footer"},[r("el-form-item",[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("\n                                "+e._s(e.trans("core.save"))+"\n                            ")])],1)],1)])])])],1)],1)}),[],!1,null,null,null).exports,Ve={data:function(){return{loading:!1,apiKeys:{}}},mounted:function(){this.fetchApiKeys()},methods:{fetchApiKeys:function(){var e=this;this.loading=!0,h.a.get(route("api.account.api.index")).then((function(t){e.loading=!1,e.apiKeys=t.data.data}))},generateKey:function(){var e=this;h.a.get(route("api.account.api.create")).then((function(t){e.loading=!1,e.apiKeys=t.data.data,e.$message({type:"success",message:t.data.message})}))},destroyApiKey:function(e){var t=this;this.$confirm(this.trans("users.delete api key confirm"),"",{confirmButtonText:this.trans("core.button.delete"),cancelButtonText:this.trans("core.button.cancel"),type:"warning",confirmButtonClass:"el-button--danger"}).then((function(){h.a.delete(route("api.account.api.destroy",{userTokenId:e.id})).then((function(e){t.loading=!1,t.apiKeys=e.data.data,t.$message({type:"success",message:e.data.message})}))}))}}},We=Object(C.a)(Ve,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content-header"},[r("h1",[e._v("\n            "+e._s(e.trans("users.api-keys"))+"\n        ")]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("a",{attrs:{href:"/backend"}},[e._v(e._s(e.trans("core.breadcrumb.home")))])]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"admin.user.user.account.api-keys"}}},[e._v("\n                "+e._s(e.trans("users.api-keys"))+"\n            ")])],1)],1),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"box box-primary"},[r("div",{staticClass:"box-header with-border"},[r("h3",{staticClass:"box-title"},[e._v(e._s(e.trans("users.your api keys")))]),e._v(" "),r("div",{staticClass:"box-tools pull-right"},[r("el-button",{attrs:{type:"primary",size:"small",icon:"plus"},on:{click:e.generateKey}},[e._v("\n                            "+e._s(e.trans("users.generate new api key"))+"\n                        ")])],1)]),e._v(" "),r("div",{staticClass:"box-body"},[r("ul",{staticClass:"list-unstyled"},e._l(e.apiKeys,(function(t){return r("li",{key:t.id,staticStyle:{"margin-bottom":"20px"}},[r("el-input",{attrs:{disabled:""},model:{value:t.access_token,callback:function(r){e.$set(t,"access_token",r)},expression:"key.access_token"}},[r("el-button",{attrs:{slot:"prepend"},on:{click:function(r){return e.destroyApiKey(t)}},slot:"prepend"},[r("i",{staticClass:"fa fa-times"})])],1)],1)})),0)])])])])])}),[],!1,null,null,null).exports,Qe=window.AsgardCMS.locales,Ke=[{path:"/user/roles",name:"admin.user.role.index",component:je},{path:"/user/roles/create",name:"admin.user.role.create",component:De,props:{locales:Qe,pageTitle:"new-role"}},{path:"/user/roles/:roleId/edit",name:"admin.user.role.edit",component:De,props:{locales:Qe,pageTitle:"title.edit"}},{path:"/user/users",name:"admin.user.user.index",component:ze},{path:"/user/users/create",name:"admin.user.user.create",component:Ne,props:{locales:Qe,pageTitle:"title.new-user"}},{path:"/user/users/:userId/edit",name:"admin.user.user.edit",component:Ne,props:{locales:Qe,pageTitle:"title.edit-user"}},{path:"/account/profile",name:"admin.user.user.account",component:Ue},{path:"/account/api-keys",name:"admin.user.user.account.api-keys",component:We}];function He(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Je(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}r("9Wh1"),s.a.use(l.a,{locale:m.a}),s.a.use(o.a),s.a.use(n.a),s.a.use(r("Nxd3"),{prevent:["input","textarea"]}),s.a.use(d.a),s.a.use(f.a),r("b3nO"),s.a.component("ckeditor",r("ihea").default);var Xe=window.AsgardCMS,Ze=Xe.currentLocale,Ge=Xe.adminPrefix;var Ye,et,tt,rt=new n.a({mode:"history",base:"1"===window.AsgardCMS.hideDefaultLocaleInURL?Ge:"".concat(Ze,"/").concat(Ge),routes:[].concat(He(_e),He(Ce),He(Ke))}),at=(Ye={},et=Ze,tt=window.AsgardCMS.translations,et in Ye?Object.defineProperty(Ye,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Ye[et]=tt,Ye),st=new o.a({locale:Ze,messages:at}),ot=new s.a({el:"#app",router:rt,i18n:st});window.axios.interceptors.response.use(null,(function(e){if(void 0!==e.response)return 403===e.response.status&&(ot.$notify.error({title:ot.$t("core.unauthorized"),message:ot.$t("core.unauthorized-access")}),window.location=route("dashboard.index")),401===e.response.status&&(ot.$notify.error({title:ot.$t("core.unauthenticated"),message:ot.$t("core.unauthenticated-message")}),window.location=route("login")),Promise.reject(e);console.log(e)}))},fHeI:function(e,t,r){var a=r("wSKF");"string"==typeof a&&(a=[[e.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,s);a.locals&&(e.exports=a.locals)},ihea:function(e,t,r){"use strict";r.r(t);var a=r("Ja5y"),s=r.n(a),o=(new Date).getTime(),n={components:{editor:s.a.component},props:{name:{type:String,default:function(){return"editor-".concat(++o)}},value:{type:String,default:function(){return""}},id:{type:String,default:function(){return"editor-".concat(o)}},types:{type:String,default:function(){return"classic"}},config:{type:Object,default:function(){if(""!==window.AsgardCMS.ckeditorCustomConfig)return{customConfig:window.AsgardCMS.ckeditorCustomConfig}}},instanceReadyCallback:{type:Function,default:""},readOnlyMode:{type:Boolean,default:function(){return!1}}},data:function(){return{}}},i=r("KHd+"),l=Object(i.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("editor",{attrs:{"tag-name":"textarea",type:e.types,config:e.config,"read-only":e.readOnlyMode,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})}),[],!1,null,null,null);t.default=l.exports},kJ7V:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,"\n.media-upload {\n    margin-bottom: 10px;\n}\n.el-upload__input {\n    display: none !important;\n}\n.el-upload--picture, .el-upload--picture-card {\n    width: 100%;\n    height: 175px;\n    line-height: 100px;\n    border: none;\n}\n.el-upload-dragger {\n    width: 100%;\n    height: 100%;\n}\n.el-upload-dragger .el-upload__text {\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n}\n.el-upload--text {\n    display: block;\n}\n",""])},pyCd:function(e,t){},qsNk:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,"\n.text-success {\n    color: #13CE66;\n}\n.text-danger {\n    color: #FF4949;\n}\n",""])},wSKF:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,"\n.new-folder {\n    float: left;\n    margin-right: 10px;\n}\n",""])}},[[0,1,2]]]);
//# sourceMappingURL=app.js.map